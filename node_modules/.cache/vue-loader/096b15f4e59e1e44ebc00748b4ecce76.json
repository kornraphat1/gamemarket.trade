{"remainingRequest":"C:\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\game-market\\src\\views\\Vertify.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\game-market\\src\\views\\Vertify.vue","mtime":1633424294978},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGVsOiAiIiwKICAgICAgb3RwOiAiIiwKICAgICAgcGFzczogIiIsCiAgICAgIHBhc3Njb246ICIiLAogICAgICB2ZXJpZnlfbGluazogIiIsCiAgICAgIHRva2VuOiAiIiwKICAgICAgdG9rZW5fb3RwOiAiIiwKICAgICAgcmVmbm86ICIiLAogICAgICBwYXNzd29yZEZpZWxkVHlwZTogInBhc3N3b3JkIiwKICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb290ZXItY29udGVuZXIiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5hdmJhciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB0aGlzLnZlcmlmeV9saW5rID0gdGhpcy4kcm91dGUucXVlcnkudmVyaWZ5X2xpbms7CiAgICB0aGlzLmF4aW9zLmdldCh0aGlzLiRBUElfVVJMICsgIi9hcGkvdjEvdG9rZW4vbmV3IikudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pOwogICAgICBsZXQgRCA9IG5ldyBEYXRlKCk7CiAgICAgIEQuc2V0SG91cnMoRC5nZXRIb3VycygpICsgMSk7CgogICAgICAvLyBjb25zb2xlLmxvZyhEKTsKICAgICAgdGhpcy50b2tlbiA9IHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuOwogICAgICBkb2N1bWVudC5jb29raWUgPQogICAgICAgICJ0b2tlbj0iICsKICAgICAgICByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbiArCiAgICAgICAgIjsiICsKICAgICAgICAgRCA7CiAgICAgICAgIGxldCB4ID0gZG9jdW1lbnQuY29va2llLnRva2VuOwogICAgICAgICBjb25zb2xlLmxvZyh4KTsKICAgICAgICAgCiAgICB9KTsKCiAgICB0aGlzLmF4aW9zCiAgICAgIC5nZXQoCiAgICAgICAgdGhpcy4kQVBJX1VSTCArCiAgICAgICAgICAiL2FwaS92MS9vdHAvZ2V0LXJlc3BvbnNlLyIgKwogICAgICAgICAgdGhpcy4kcm91dGUucXVlcnkudmVyaWZ5X2xpbmsKICAgICAgKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLnRva2VuX290cCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0LnRva2VuOwogICAgICAgIHRoaXMucmVmbm8gPSByZXNwb25zZS5kYXRhLnJlc3VsdC5yZWZubzsKCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy50b2tlbl9vdHApOwogICAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBjbGlja25leHQoKSB7CiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOwogICAgICBpZiAodGhpcy5vdHApIHsKICAgICAgICBpZiAodGhpcy50b2tlbl9vdHApIHsKICAgICAgICAgIGNvbnN0IGJvZHkgPSB7IHRva2VuOiB0aGlzLnRva2VuX290cCwgcGluOiB0aGlzLm90cCB9OwogICAgICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLnRva2VufWAgfSwKICAgICAgICAgIH07CgogICAgICAgICAgdGhpcy5heGlvcwogICAgICAgICAgICAucG9zdCh0aGlzLiRBUElfVVJMICsgIi9hcGkvdjEvb3RwL3NlbmQtdmVyaWZ5IiwgYm9keSwgY29uZmlnKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tc2cgPT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3RwIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYXNzIikuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0aXRsZS1vdHAiKS5zdHlsZS5vcGFjaXR5ID0gIi41IjsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0aXRsZS1wYXNzIikuc3R5bGUub3BhY2l0eSA9ICIxIjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICAgICAgICAgIGFsZXJ0KGVycm9yLnJlc3BvbnNlLmRhdGEubXNnLnRoKTsKICAgICAgICAgICAgICBzZWxmLmhhbmRsZUNsZWFySW5wdXQoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLnBhc3MpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmVydGlmeS1jb250ZW50LWlucHV0Iikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmVydGlmeS1jb250ZW50LXN1Y2Nlc3MiKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZU9uQ29tcGxldGUodmFsdWUpIHsKICAgICAgdGhpcy5vdHAgPSB2YWx1ZTsKICAgIH0sCiAgICBoYW5kbGVDbGVhcklucHV0KCkgewogICAgICB0aGlzLiRyZWZzLm90cElucHV0LmNsZWFySW5wdXQoKTsKICAgIH0sCiAgICBzd2l0Y2hWaXNpYmlsaXR5KCkgewogICAgICB0aGlzLnBhc3N3b3JkRmllbGRUeXBlID0KICAgICAgICB0aGlzLnBhc3N3b3JkRmllbGRUeXBlID09PSAicGFzc3dvcmQiID8gInRleHQiIDogInBhc3N3b3JkIjsKICAgIH0sCiAgfSwKICB3YXRjaDoge30sCiAgY29tcHV0ZWQ6IHt9LAp9Owo="},{"version":3,"sources":["Vertify.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Vertify.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"bg-vertify\">\n      <div class=\"bg-b-vertify\"></div>\n    </div>\n\n    <div class=\"vertify-main-content\">\n      <div class=\"logo-vertify\">\n        <img src=\"/img/logo-vertify.png\" alt=\"\" />\n      </div>\n      <div class=\"main-vertify-bg\" style=\"  height:80vh\">\n        <div class=\"main-vertify\">\n          <div class=\"vertify-content\" id=\"vertify-content-input\">\n            <div class=\"vertify-content-header\">\n              <span>ยืนยันตัวตน</span>\n            </div>\n            <div class=\"vertify-content-nav row\">\n              <!--  <div\n                id=\"title-tel\"\n                class=\"col-4 vertify-content-item \"\n                style=\"opacity: 1;\"\n              >\n                <div class=\"number-nav\">\n                  <span>1</span>\n                </div>\n\n                <p>เบอร์</p>\n                <p>โทรศัพท์</p>\n              </div>-->\n              <div\n                id=\"title-otp\"\n                class=\"col-6 vertify-content-item \"\n                style=\"opacity: .5;\"\n              >\n                <div class=\"number-nav\">\n                  <span>1</span>\n                </div>\n\n                <p>ยืนยัน</p>\n                <p>OTP</p>\n              </div>\n              <div\n                id=\"title-pass\"\n                class=\"col-6 vertify-content-item \"\n                style=\"opacity: .5;\"\n              >\n                <div class=\"number-nav\">\n                  <span>2</span>\n                </div>\n\n                <p>สร้าง</p>\n                <p>รหัสผ่าน</p>\n              </div>\n            </div>\n            <!-- <input\n                id=\"tel\"\n                type=\"text\"\n                placeholder=\"กรุณาใส่เบอร์โทรศัพท์\"\n                v-model=\"tel\"\n                style=\"display:block\"\n              />\n            -->\n            <div class=\"vertify-content-input\" id=\"otp\">\n              <div class=\"otp-zone\">\n                <v-otp-input\n                  ref=\"otpInput\"\n                  input-classes=\"otp-input\"\n                  separator=\"\"\n                  :num-inputs=\"6\"\n                  :should-auto-focus=\"true\"\n                  :is-input-num=\"true\"\n                  @on-complete=\"handleOnComplete\"\n                  v-model=\"otp\"\n                />\n\n                <p>Didn't receive the SMS? <a href=\"\"> Send again</a></p>\n                <span>Reference : {{ refno }}</span>\n                <!-- <a href=\"\">Enter different phone number</a> -->\n              </div>\n              <div class=\"vertify-content-button\">\n                <button v-on:click=\"clicknext()\">ถัดไป</button>\n              </div>\n            </div>\n\n            <div class=\"vertify-content-input\" id=\"pass\" style=\"display:none\">\n              <div>\n                <vuePassword\n                  :type=\"passwordFieldType\"\n                  placeholder=\"สร้างรหัสผ่าน\"\n                  :disableStrength=\"true\"\n                  v-model=\"pass\"\n                />\n\n                <vuePassword\n                  :type=\"passwordFieldType\"\n                  placeholder=\"ยืนยันรหัสผ่าน\"\n                  :disableStrength=\"true\"\n                  v-model=\"passcon\"\n                />\n              </div>\n              <div class=\"vertify-content-button\">\n                <button v-on:click=\"clicknext()\">ถัดไป</button>\n              </div>\n            </div>\n          </div>\n\n          <div\n            class=\"vertify-content\"\n            id=\"vertify-content-success\"\n            style=\"display:none\"\n          >\n            <div class=\"vertify-content-success\">\n              <img src=\"/img/success.png\" alt=\"\" />\n              <h4>ยืนยันตัวตนเรียบร้อย</h4>\n              <span>เริ่มซื้อขายไอเท็มได้เลย !</span>\n              <button v-on:click=\"clicknext()\">แลกเปลี่ยนไอเท็ม</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      tel: \"\",\n      otp: \"\",\n      pass: \"\",\n      passcon: \"\",\n      verify_link: \"\",\n      token: \"\",\n      token_otp: \"\",\n      refno: \"\",\n      passwordFieldType: \"password\",\n    };\n  },\n\n  mounted() {\n    document.getElementById(\"footer-contener\").style.display = \"none\";\n    document.getElementById(\"navbar\").style.display = \"none\";\n    this.verify_link = this.$route.query.verify_link;\n    this.axios.get(this.$API_URL + \"/api/v1/token/new\").then((response) => {\n      // console.log(response.data.access_token);\n      let D = new Date();\n      D.setHours(D.getHours() + 1);\n\n      // console.log(D);\n      this.token = response.data.access_token;\n      document.cookie =\n        \"token=\" +\n        response.data.access_token +\n        \";\" +\n         D ;\n         let x = document.cookie.token;\n         console.log(x);\n         \n    });\n\n    this.axios\n      .get(\n        this.$API_URL +\n          \"/api/v1/otp/get-response/\" +\n          this.$route.query.verify_link\n      )\n      .then((response) => {\n        this.token_otp = response.data.result.token;\n        this.refno = response.data.result.refno;\n\n        // console.log(this.token_otp);\n      });\n  },\n\n  methods: {\n    clicknext() {\n      const self = this;\n      if (this.otp) {\n        if (this.token_otp) {\n          const body = { token: this.token_otp, pin: this.otp };\n          const config = {\n            headers: { Authorization: `Bearer ${this.token}` },\n          };\n\n          this.axios\n            .post(this.$API_URL + \"/api/v1/otp/send-verify\", body, config)\n            .then((response) => {\n              if (response.data.msg == \"success\") {\n                document.getElementById(\"otp\").style.display = \"none\";\n                document.getElementById(\"pass\").style.display = \"flex\";\n                document.getElementById(\"title-otp\").style.opacity = \".5\";\n                document.getElementById(\"title-pass\").style.opacity = \"1\";\n              }\n            })\n            .catch((error) => {\n              this.errorMessage = error.message;\n              console.log(error.response);\n              alert(error.response.data.msg.th);\n              self.handleClearInput();\n            });\n        }\n      }\n      if (this.pass) {\n        document.getElementById(\"vertify-content-input\").style.display = \"none\";\n        document.getElementById(\"vertify-content-success\").style.display = null;\n      }\n    },\n    handleOnComplete(value) {\n      this.otp = value;\n    },\n    handleClearInput() {\n      this.$refs.otpInput.clearInput();\n    },\n    switchVisibility() {\n      this.passwordFieldType =\n        this.passwordFieldType === \"password\" ? \"text\" : \"password\";\n    },\n  },\n  watch: {},\n  computed: {},\n};\n</script>\n"]}]}