{"remainingRequest":"D:\\D\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\D\\xampp\\htdocs\\game-market\\src\\views\\AutoLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\D\\xampp\\htdocs\\game-market\\src\\views\\AutoLogin.vue","mtime":1674118377338},{"path":"D:\\D\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\D\\xampp\\htdocs\\game-market\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\D\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\D\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRva2VuOiAiIiwNCiAgICAgIHNob3c6IGZhbHNlLA0KICAgICAgcGFzc3dvcmRGaWVsZFR5cGU6ICJwYXNzd29yZCIsDQogICAgICB1c2VybmFtZTogIiIsDQogICAgICBwYXNzd29yZDogIiIsDQogICAgICBBY2Nlc3NrZXk6IHRoaXMuJHJvdXRlLnBhcmFtcy5hY2Nlc3Nfa2V5LA0KICAgICAgVXNlcm5hbWU6IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VybmFtZSwNCiAgICAgIHRpbWVzdGFtcDogdGhpcy4kcm91dGUucGFyYW1zLnRpbWVzdGFtcCwNCiAgICAgIFRva2VuOiB0aGlzLiRyb3V0ZS5wYXJhbXMudG9rZW4sDQogICAgfTsNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb290ZXItY29udGVuZXIiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuYXZiYXIiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgIC8vIHRoaXMuJHJvdXRlLnBhcmFtcy5hY2Nlc3Nfa2V5DQoNCiAgICB0aGlzLmdvTG9naW4oKTsNCg0KICAgIHRoaXMuc2hvdyA9IHRydWU7DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGdvTG9naW4oKSB7DQogICAgICBjb25zdCBzZWxmID0gdGhpczsNCiAgICAgIHZhciB1cmwgPSAiIjsNCiAgICAgIGlmICh0aGlzLlRva2VuICYmIHRoaXMuQWNjZXNza2V5KSB7DQogICAgICAgIHVybCA9DQogICAgICAgICAgdGhpcy4kQVBJX1VSTCArDQogICAgICAgICAgIi9hcGkvdjEvYXV0b2xvZ2luLyIgKw0KICAgICAgICAgIHRoaXMuQWNjZXNza2V5ICsNCiAgICAgICAgICAiLyIgKw0KICAgICAgICAgIHRoaXMuVXNlcm5hbWUgKw0KICAgICAgICAgICIvIiArDQogICAgICAgICAgdGhpcy50aW1lc3RhbXAgKw0KICAgICAgICAgICIvIiArDQogICAgICAgICAgdGhpcy5Ub2tlbjsNCiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pdGVtKSB7DQogICAgICAgICAgdXJsID0NCiAgICAgICAgICAgIHRoaXMuJEFQSV9VUkwgKw0KICAgICAgICAgICAgIi9hcGkvdjEvYXV0b2xvZ2luLyIgKw0KICAgICAgICAgICAgdGhpcy5BY2Nlc3NrZXkgKw0KICAgICAgICAgICAgIi8iICsNCiAgICAgICAgICAgIHRoaXMuVXNlcm5hbWUgKw0KICAgICAgICAgICAgIi8iICsNCiAgICAgICAgICAgIHRoaXMudGltZXN0YW1wICsNCiAgICAgICAgICAgICIvIiArDQogICAgICAgICAgICB0aGlzLlRva2VuICsNCiAgICAgICAgICAgICIvIiArDQogICAgICAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMuaXRlbTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMuYXhpb3MNCiAgICAgICAgICAuZ2V0KHVybCkNCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT0gMCkgew0KICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnRva2VuKTsvDQogICAgICAgICAgICAgIGxldCBEID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgRC5zZXRIb3VycyhELmdldEhvdXJzKCkgKyAxKTsNCg0KICAgICAgICAgICAgICAvLyBkb2N1bWVudC5jb29raWUgPSAidG9rZW49IiArIHJlc3BvbnNlLmRhdGEudG9rZW4gKyAiOyIgKyBEOw0KICAgICAgICAgICAgICB0aGlzLiRjb29raWVzLnNldCgidG9rZW5fbWFpbiIsIHJlc3BvbnNlLmRhdGEudG9rZW4sIDYwICogNjApOw0KICAgICAgICAgICAgICB0aGlzLiRjb29raWVzLnNldCgiQWNjZXNza2V5IiwgdGhpcy5BY2Nlc3NrZXksIDI0ICogNjAgKiA2MCk7DQogICAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMuc2V0KCJVc2VybmFtZSIsIHRoaXMuVXNlcm5hbWUsIDI0ICogNjAgKiA2MCk7DQogICAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMuc2V0KCJUb2tlbiIsIHRoaXMuVG9rZW4sIDI0ICogNjAgKiA2MCk7DQoNCiAgICAgICAgICAgICAgdGhpcy4kY29va2llcy5zZXQoDQogICAgICAgICAgICAgICAgInRyYWNrX3N0YXR1cyIsDQogICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS50cmFja19zdGF0dXMsDQogICAgICAgICAgICAgICAgMjQgKiA2MCAqIDYwDQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMuc2V0KCJ0cmFjayIsIHJlc3BvbnNlLmRhdGEudHJhY2ssIDI0ICogNjAgKiA2MCk7DQogICAgICAgICAgICAgIHRoaXMudG9rZW4gPSB0aGlzLiRjb29raWVzLmdldCgidG9rZW5fbWFpbiIpOw0KDQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEudHJhY2spOw0KDQogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgaWYgKHRoaXMuJGNvb2tpZXMuZ2V0KCJ0cmFja19zdGF0dXMiKSA9PSAiZW1wdHkiKSB7DQogICAgICAgICAgICAgICAgICBzZWxmLmdvVHJhZGUoKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgc2VsZi5nb1RyYWRlKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9LCAxMDAwKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHNlbGYuJGFsZXJ0KCLguIHguKPguLjguJPguLLguYDguILguYnguLLguKrguLnguYjguYDguIHguKHguYPguKvguKHguYgiLCAi4LmA4LiB4Li04LiU4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiUIiwgImVycm9yIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgIHRoaXMuJGFsZXJ0KCLguIHguKPguLjguJPguLLguYDguILguYnguLLguKrguLnguYjguYDguIHguKHguYPguKvguKHguYgiLCAi4LmA4LiB4Li04LiU4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiUIiwgImVycm9yIik7DQogICAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCg0KICAgIGdvSG9tZSgpIHsNCiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIi8iOw0KICAgIH0sDQogICAgZ29UcmFkZSgpIHsNCiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIi9NeWl0ZW1zIjsNCiAgICB9LA0KDQogICAgc3dpdGNoVmlzaWJpbGl0eSgpIHsNCiAgICAgIHRoaXMucGFzc3dvcmRGaWVsZFR5cGUgPQ0KICAgICAgICB0aGlzLnBhc3N3b3JkRmllbGRUeXBlID09PSAicGFzc3dvcmQiID8gInRleHQiIDogInBhc3N3b3JkIjsNCiAgICB9LA0KICB9LA0KICB3YXRjaDoge30sDQogIGNvbXB1dGVkOiB7fSwNCn07DQo="},{"version":3,"sources":["AutoLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AutoLogin.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"bg-vertify\">\r\n      <div class=\"bg-b-vertify\"></div>\r\n    </div>\r\n\r\n    <div class=\"vertify-main-content\">\r\n      <transition name=\"slide-fade\">\r\n        <div class=\"logo-vertify\" v-if=\"show\">\r\n          <img src=\"@/assets/img/logo-vertify2.png\" alt=\"\" />\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      token: \"\",\r\n      show: false,\r\n      passwordFieldType: \"password\",\r\n      username: \"\",\r\n      password: \"\",\r\n      Accesskey: this.$route.params.access_key,\r\n      Username: this.$route.params.username,\r\n      timestamp: this.$route.params.timestamp,\r\n      Token: this.$route.params.token,\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    document.getElementById(\"footer-contener\").style.display = \"none\";\r\n    // document.getElementById(\"navbar\").style.display = \"none\";\r\n    // this.$route.params.access_key\r\n\r\n    this.goLogin();\r\n\r\n    this.show = true;\r\n  },\r\n\r\n  methods: {\r\n    goLogin() {\r\n      const self = this;\r\n      var url = \"\";\r\n      if (this.Token && this.Accesskey) {\r\n        url =\r\n          this.$API_URL +\r\n          \"/api/v1/autologin/\" +\r\n          this.Accesskey +\r\n          \"/\" +\r\n          this.Username +\r\n          \"/\" +\r\n          this.timestamp +\r\n          \"/\" +\r\n          this.Token;\r\n        if (this.$route.params.item) {\r\n          url =\r\n            this.$API_URL +\r\n            \"/api/v1/autologin/\" +\r\n            this.Accesskey +\r\n            \"/\" +\r\n            this.Username +\r\n            \"/\" +\r\n            this.timestamp +\r\n            \"/\" +\r\n            this.Token +\r\n            \"/\" +\r\n            this.$route.params.item;\r\n        }\r\n\r\n        this.axios\r\n          .get(url)\r\n          .then((response) => {\r\n            if (response.data.code == 0) {\r\n              // console.log(response.data.token);/\r\n              let D = new Date();\r\n              D.setHours(D.getHours() + 1);\r\n\r\n              // document.cookie = \"token=\" + response.data.token + \";\" + D;\r\n              this.$cookies.set(\"token_main\", response.data.token, 60 * 60);\r\n              this.$cookies.set(\"Accesskey\", this.Accesskey, 24 * 60 * 60);\r\n              this.$cookies.set(\"Username\", this.Username, 24 * 60 * 60);\r\n              this.$cookies.set(\"Token\", this.Token, 24 * 60 * 60);\r\n\r\n              this.$cookies.set(\r\n                \"track_status\",\r\n                response.data.track_status,\r\n                24 * 60 * 60\r\n              );\r\n              this.$cookies.set(\"track\", response.data.track, 24 * 60 * 60);\r\n              this.token = this.$cookies.get(\"token_main\");\r\n\r\n              console.log(response.data.track);\r\n\r\n              setTimeout(function() {\r\n                if (this.$cookies.get(\"track_status\") == \"empty\") {\r\n                  self.goTrade();\r\n                } else {\r\n                  self.goTrade();\r\n                }\r\n              }, 1000);\r\n            } else {\r\n              self.$alert(\"กรุณาเข้าสู่เกมใหม่\", \"เกิดข้อผิดพลาด\", \"error\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.errorMessage = error.message;\r\n            // console.log(error.response.data);\r\n            this.$alert(\"กรุณาเข้าสู่เกมใหม่\", \"เกิดข้อผิดพลาด\", \"error\");\r\n          });\r\n      }\r\n    },\r\n\r\n    goHome() {\r\n      window.location.href = \"/\";\r\n    },\r\n    goTrade() {\r\n      window.location.href = \"/Myitems\";\r\n    },\r\n\r\n    switchVisibility() {\r\n      this.passwordFieldType =\r\n        this.passwordFieldType === \"password\" ? \"text\" : \"password\";\r\n    },\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n};\r\n</script>\r\n"]}]}