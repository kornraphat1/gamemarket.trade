{"remainingRequest":"C:\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\game-market\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\game-market\\src\\views\\Login.vue","mtime":1634195540307},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRva2VuOiAiIiwNCg0KICAgICAgcGFzc3dvcmRGaWVsZFR5cGU6ICJwYXNzd29yZCIsDQogICAgICB1c2VybmFtZTogIjA2NDIyNzc3MjQiLA0KICAgICAgcGFzc3dvcmQ6ICJLazA4MDAzMzU3ODgrIiwNCiAgICB9Ow0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgLy8gY29uc3Qgc2VsZiA9IHRoaXM7DQoNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9vdGVyLWNvbnRlbmVyIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmF2YmFyIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCg0KICAgIC8vIGlmICh0aGlzLiRjb29raWVzLmdldCgidG9rZW5fbWFpbiIpICYmIHRoaXMuJGNvb2tpZXMuZ2V0KCJ1c2VybmFtZSIpKSB7DQogICAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9vdGVyLWNvbnRlbmVyIikuc3R5bGUuZGlzcGxheSA9IG51bGw7DQogICAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmF2YmFyIikuc3R5bGUuZGlzcGxheSA9IG51bGw7DQogICAgLy8gICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbigpIHsNCiAgICAvLyAgICAgc2VsZi4kcm91dGVyLnB1c2goew0KICAgIC8vICAgICAgIG5hbWU6ICJIb21lIiwNCiAgICAvLyAgICAgfSk7DQogICAgLy8gICB9KTsNCiAgICAvLyB9DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGdvTG9naW4oKSB7DQogICAgICBpZiAodGhpcy5wYXNzd29yZCAmJiB0aGlzLnVzZXJuYW1lKSB7DQogICAgICAgIGxldCBib2R5ID0gew0KICAgICAgICAgIHBob25lOiB0aGlzLnVzZXJuYW1lLA0KICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLA0KICAgICAgICB9Ow0KICAgICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICAgIGhlYWRlcnM6IHt9LA0KICAgICAgICB9Ow0KDQogICAgICAgIHRoaXMuYXhpb3MNCiAgICAgICAgICAucG9zdCh0aGlzLiRBUElfVVJMICsgIi9hcGkvdjEvdXNlci9sb2dpbi9tZW1iZXIiLCBib2R5LCBjb25maWcpDQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOw0KICAgICAgICAgICAgICBsZXQgRCA9IG5ldyBEYXRlKCk7DQogICAgICAgICAgICAgIEQuc2V0SG91cnMoRC5nZXRIb3VycygpICsgMSk7DQoNCiAgICAgICAgICAgICAgLy8gZG9jdW1lbnQuY29va2llID0gInRva2VuPSIgKyByZXNwb25zZS5kYXRhLnRva2VuICsgIjsiICsgRDsNCiAgICAgICAgICAgICAgdGhpcy4kY29va2llcy5zZXQoInRva2VuX21haW4iLCByZXNwb25zZS5kYXRhLnRva2VuLCA2MCAqIDYwKTsNCiAgICAgICAgICAgICAgdGhpcy4kY29va2llcy5zZXQoInVzZXJuYW1lIiwgcmVzcG9uc2UuZGF0YS51c2VyLnVzZXJfbmFtZSwgNjAgKiA2MCk7DQogICAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMuc2V0KCJpZCIsIHJlc3BvbnNlLmRhdGEudXNlci5pZCwgNjAgKiA2MCk7DQogICAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMuc2V0KA0KICAgICAgICAgICAgICAgICJwaG9uZV9udW1iZXIiLA0KICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEudXNlci5waG9uZV9udW1iZXIsDQogICAgICAgICAgICAgICAgNjAgKiA2MA0KICAgICAgICAgICAgICApOw0KDQogICAgICAgICAgICAgIHRoaXMudG9rZW4gPSB0aGlzLiRjb29raWVzLmdldCgidG9rZW5fbWFpbiIpOw0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygidG9rZW5fbWFpbiA6ICIgKyB0aGlzLnRva2VuKTsNCg0KICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmVydGlmeS1sb2dpbiIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2ZXJ0aWZ5LXN1Y2Nlc3MiKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmRhdGEubXNnLnRoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsNCiAgICAgICAgICAgIGFsZXJ0KGVycm9yLnJlc3BvbnNlLmRhdGEubXNnLnRoKTsNCiAgICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgZ29Ib21lKCkgew0KICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvb3Rlci1jb250ZW5lciIpLnN0eWxlLmRpc3BsYXkgPSBudWxsOw0KICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5hdmJhciIpLnN0eWxlLmRpc3BsYXkgPSBudWxsOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBuYW1lOiAiSG9tZSIsDQogICAgICB9KTsNCiAgICB9LA0KDQogICAgc3dpdGNoVmlzaWJpbGl0eSgpIHsNCiAgICAgIHRoaXMucGFzc3dvcmRGaWVsZFR5cGUgPQ0KICAgICAgICB0aGlzLnBhc3N3b3JkRmllbGRUeXBlID09PSAicGFzc3dvcmQiID8gInRleHQiIDogInBhc3N3b3JkIjsNCiAgICB9LA0KICB9LA0KICB3YXRjaDoge30sDQogIGNvbXB1dGVkOiB7fSwNCn07DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"bg-vertify\">\r\n      <div class=\"bg-b-vertify\"></div>\r\n    </div>\r\n\r\n    <div class=\"vertify-main-content\">\r\n      <div class=\"logo-vertify\">\r\n        <img src=\"/img/logo-vertify.png\" alt=\"\" />\r\n      </div>\r\n      <div class=\"main-vertify-bg\" style=\"  height:80vh\">\r\n        <div class=\"main-vertify\">\r\n          <div class=\"vertify-content\" id=\"vertify-login\" style=\"display:\">\r\n            <div class=\"vertify-login\">\r\n              <h4>Login</h4>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\" เบอร์โทรศัพท์\"\r\n                v-model=\"username\"\r\n              />\r\n              <vuePassword\r\n                :type=\"passwordFieldType\"\r\n                placeholder=\"รหัสผ่าน\"\r\n                :disableStrength=\"true\"\r\n                v-model=\"password\"\r\n              />\r\n              <button class=\"conf\" v-on:click=\"goLogin()\">ยืนยัน</button>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"vertify-content\"\r\n            id=\"vertify-success\"\r\n            style=\"display:none\"\r\n          >\r\n            <div class=\"vertify-success\">\r\n              <img src=\"/img/success.png\" alt=\"\" />\r\n              <h4>ยืนยันตัวตนเรียบร้อย</h4>\r\n              <span>เริ่มซื้อขายไอเท็มได้เลย !</span>\r\n              <button v-on:click=\"goHome()\">แลกเปลี่ยนไอเท็ม</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      token: \"\",\r\n\r\n      passwordFieldType: \"password\",\r\n      username: \"0642277724\",\r\n      password: \"Kk0800335788+\",\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    // const self = this;\r\n\r\n    document.getElementById(\"footer-contener\").style.display = \"none\";\r\n    document.getElementById(\"navbar\").style.display = \"none\";\r\n\r\n    // if (this.$cookies.get(\"token_main\") && this.$cookies.get(\"username\")) {\r\n    //   document.getElementById(\"footer-contener\").style.display = null;\r\n    //   document.getElementById(\"navbar\").style.display = null;\r\n    //   this.$nextTick(function() {\r\n    //     self.$router.push({\r\n    //       name: \"Home\",\r\n    //     });\r\n    //   });\r\n    // }\r\n  },\r\n\r\n  methods: {\r\n    goLogin() {\r\n      if (this.password && this.username) {\r\n        let body = {\r\n          phone: this.username,\r\n          password: this.password,\r\n        };\r\n        let config = {\r\n          headers: {},\r\n        };\r\n\r\n        this.axios\r\n          .post(this.$API_URL + \"/api/v1/user/login/member\", body, config)\r\n          .then((response) => {\r\n            if (response.data.code == 0) {\r\n              console.log(response);\r\n              let D = new Date();\r\n              D.setHours(D.getHours() + 1);\r\n\r\n              // document.cookie = \"token=\" + response.data.token + \";\" + D;\r\n              this.$cookies.set(\"token_main\", response.data.token, 60 * 60);\r\n              this.$cookies.set(\"username\", response.data.user.user_name, 60 * 60);\r\n              this.$cookies.set(\"id\", response.data.user.id, 60 * 60);\r\n              this.$cookies.set(\r\n                \"phone_number\",\r\n                response.data.user.phone_number,\r\n                60 * 60\r\n              );\r\n\r\n              this.token = this.$cookies.get(\"token_main\");\r\n              console.log(\"token_main : \" + this.token);\r\n\r\n              document.getElementById(\"vertify-login\").style.display = \"none\";\r\n              document.getElementById(\"vertify-success\").style.display = null;\r\n            } else {\r\n              alert(response.data.msg.th);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.errorMessage = error.message;\r\n            console.log(error.response);\r\n            alert(error.response.data.msg.th);\r\n          });\r\n      }\r\n    },\r\n\r\n    goHome() {\r\n      document.getElementById(\"footer-contener\").style.display = null;\r\n      document.getElementById(\"navbar\").style.display = null;\r\n      this.$router.push({\r\n        name: \"Home\",\r\n      });\r\n    },\r\n\r\n    switchVisibility() {\r\n      this.passwordFieldType =\r\n        this.passwordFieldType === \"password\" ? \"text\" : \"password\";\r\n    },\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n};\r\n</script>\r\n"]}]}