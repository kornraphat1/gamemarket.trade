{"remainingRequest":"C:\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\game-market\\src\\views\\Marketplace.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\game-market\\src\\views\\Marketplace.vue","mtime":1633530175680},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgQWxsaXRlbTogW10sCiAgICAgIHNlYXJjaFF1ZXJ5OiAiIiwKICAgICAgc29ydEJ5OiAiIiwKZ2FtZV9pZDonJywKICAgICAgdG9rZW46ICIiLAogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgY29uc3QgdGlzID0gdGhpczsKICAgIHRoaXMuZ2V0dG9rZW4oKTsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uKCkgewogICAgICB0aXMuZ2V0RGF0YSgpOwogICAgfSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgZ2V0dG9rZW4oKSB7CiAgICAgIHRoaXMuYXhpb3MuZ2V0KHRoaXMuJEFQSV9VUkwgKyAiL2FwaS92MS90b2tlbi9uZXciKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgICBsZXQgRCA9IG5ldyBEYXRlKCk7CiAgICAgICAgRC5zZXRIb3VycyhELmdldEhvdXJzKCkgKyAxKTsKCiAgICAgICAgY29uc29sZS5sb2coRCk7CiAgICAgICAgdGhpcy50b2tlbiA9IHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuOwoKICAgICAgICAvLyAgdGhpcy4kY29va2llLnNldCgidG9rZW4iLCByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbiwgRCkKCiAgICAgICAgZG9jdW1lbnQuY29va2llID0gInRva2VuPSIgKyByZXNwb25zZS5kYXRhLmFjY2Vzc190b2tlbiArICI7IiArIEQ7CiAgICAgICAgbGV0IHggPSB0aGlzLiRjb29raWVzLmdldCgidG9rZW4iKTsKICAgICAgICBjb25zb2xlLmxvZyh4KTsKICAgICAgfSk7CiAgICB9LAoKICAgIGdldERhdGEoKSB7CiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOwoKICAgICAgY29uc3QgYm9keSA9IHsKICAgICAgICBmaWx0ZXI6IHsKICAgICAgICAgIGdhbWVfaWQ6IDEsCiAgICAgICAgICBzZWFyY2g6IHNlbGYuc2VhcmNoUXVlcnksCiAgICAgICAgfSwKICAgICAgICBwZXJwYWdlOiAxMCwKICAgICAgICBwYWdlOiAxLAogICAgICAgIHBhZ2luYXRpb25fb246IGZhbHNlLAogICAgICAgIHNvcnRfYnk6IHNlbGYuc29ydEJ5LAogICAgICB9OwogICAgICBjb25zdCBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kY29va2llcy5nZXQoInRva2VuIil9YCB9LAogICAgICB9OwoKICAgICAgdGhpcy5heGlvcwogICAgICAgIC5wb3N0KHRoaXMuJEFQSV9VUkwgKyAiL2FwaS92MS9tYXJrZXRwbGFjZS9saXN0aXRlbSIsIGJvZHksIGNvbmZpZykKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YS5saXN0KTsKICAgICAgICAgIHRoaXMuQWxsaXRlbSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5saXN0OwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOwogICAgICAgICAgYWxlcnQoZXJyb3IucmVzcG9uc2UuZGF0YS5tc2cudGgpOwogICAgICAgIH0pOwogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyByZXN1bHRRdWVyeSgpIHsKICAgIC8vICAgaWYgKHRoaXMuc2VhcmNoUXVlcnkpIHsKICAgIC8vICAgICByZXR1cm4gdGhpcy5BbGxpdGVtLmZpbHRlcigoaXRlbSkgPT4gewogICAgLy8gICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoUXVlcnkKICAgIC8vICAgICAgICAgLnRvTG93ZXJDYXNlKCkKICAgIC8vICAgICAgICAgLnNwbGl0KCIgIikKICAgIC8vICAgICAgICAgLmV2ZXJ5KCh2KSA9PgogICAgLy8gICAgICAgICAgIChpdGVtLm5hbWVfZW5nICsgaXRlbS5uYW1lX3RoYWkgKyBpdGVtLnByaWNlKQogICAgLy8gICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCkKICAgIC8vICAgICAgICAgICAgIC5pbmNsdWRlcyh2KQogICAgLy8gICAgICAgICApOwogICAgLy8gICAgIH0pOwogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIHJldHVybiB0aGlzLkFsbGl0ZW07CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Marketplace.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Marketplace.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"bg-tradeDetail\">\n      <div class=\"content-marketplaceDetail  \">\n        <div class=\"row\">\n          <img src=\"/img/Rectangle 270.png\" alt=\"\" style=\"width: 100%;\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"bg-third\" id=\"section-third\">\n      <div class=\"container-content\">\n        <div class=\"marketplace-Search-area row\">\n          <div class=\"col-6 col-xs-6 col-md-6 col-lg-7\">\n            <div class=\"input-group-prepend\">\n              <span class=\"\" id=\"basic-addon1\"\n                ><i class=\"fas fa-search\"></i\n              ></span>\n              <input\n                type=\"text\"\n                v-model=\"searchQuery\"\n                placeholder=\"Search Product\"\n              />\n            </div>\n          </div>\n          <div class=\"row col-6 col-xs-6 col-sm-6 col-lg-5\">\n            <div class=\"col-6\">\n              <div class=\"dropdown input-group-prepend marketplace-fillter\">\n                <a\n                  class=\"btn marketplace-fillter-title  dropdown-toggle\"\n                  href=\"#\"\n                  role=\"button\"\n                  id=\"dropdownMenuLink\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  All Game\n                </a>\n\n                <div\n                  class=\"dropdown-menu marketplace-fillter-dropdown\"\n                  aria-labelledby=\"dropdownMenuLink\"\n                >\n                  <a class=\"dropdown-item\" href=\"#\">Action</a>\n                  <a class=\"dropdown-item\" href=\"#\">Another action</a>\n                  <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-6\">\n              <div class=\"dropdown input-group-prepend marketplace-fillter\">\n                <a\n                  class=\"btn marketplace-fillter-title  dropdown-toggle\"\n                  href=\"#\"\n                  role=\"button\"\n                  id=\"dropdownMenuLink\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  Sort By\n                </a>\n\n                <div\n                  class=\"dropdown-menu marketplace-fillter-dropdown\"\n                  aria-labelledby=\"dropdownMenuLink\"\n                >\n                  <a\n                    class=\"dropdown-item\"\n                    @click=\"sortvalue('price', 'asc')\"\n                    href=\"#\"\n                    >price ^</a\n                  >\n                  <a\n                    class=\"dropdown-item\"\n                    @click=\"sortvalue('price', 'desc')\"\n                    href=\"#\"\n                    >price</a\n                  >\n                 \n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"content-third-area row\">\n          <div class=\"content-third-item row\" id=\"itemGoodPrice\">\n            <div class=\"item-grid col-3\" v-for=\"(v, key) in Allitem\" :key=\"key\">\n              <router-link\n                class=\"static\"\n                :to=\"{\n                  path: '/trade',\n                  query: { id: v.class },\n                }\"\n              >\n                <img :src=\"v.picture\" class=\"item-img\" />\n                <div class=\"item-detail\">\n                  <h2 :style=\"v.color_code\">\n                    {{ v.name.en }}\n                  </h2>\n                  <h1>{{ v.name.th }}</h1>\n                </div>\n                <div class=\"row item-detail-price\">\n                  <p>{{ v.amount | number_format }}.-</p>\n                  <button class=\"btn\">Trade</button>\n                </div>\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      Allitem: [],\n      searchQuery: \"\",\n      sortBy: \"\",\ngame_id:'',\n      token: \"\",\n    };\n  },\n\n  mounted() {\n    const tis = this;\n    this.gettoken();\n    this.$nextTick(function() {\n      tis.getData();\n    });\n  },\n\n  methods: {\n    gettoken() {\n      this.axios.get(this.$API_URL + \"/api/v1/token/new\").then((response) => {\n        // console.log(response.data.access_token);\n        let D = new Date();\n        D.setHours(D.getHours() + 1);\n\n        console.log(D);\n        this.token = response.data.access_token;\n\n        //  this.$cookie.set(\"token\", response.data.access_token, D)\n\n        document.cookie = \"token=\" + response.data.access_token + \";\" + D;\n        let x = this.$cookies.get(\"token\");\n        console.log(x);\n      });\n    },\n\n    getData() {\n      const self = this;\n\n      const body = {\n        filter: {\n          game_id: 1,\n          search: self.searchQuery,\n        },\n        perpage: 10,\n        page: 1,\n        pagination_on: false,\n        sort_by: self.sortBy,\n      };\n      const config = {\n        headers: { Authorization: `Bearer ${this.$cookies.get(\"token\")}` },\n      };\n\n      this.axios\n        .post(this.$API_URL + \"/api/v1/marketplace/listitem\", body, config)\n        .then((response) => {\n          console.log(response.data.data.list);\n          this.Allitem = response.data.data.list;\n        })\n        .catch((error) => {\n          this.errorMessage = error.message;\n          console.log(error.response);\n          alert(error.response.data.msg.th);\n        });\n    },\n  },\n  computed: {\n    // resultQuery() {\n    //   if (this.searchQuery) {\n    //     return this.Allitem.filter((item) => {\n    //       return this.searchQuery\n    //         .toLowerCase()\n    //         .split(\" \")\n    //         .every((v) =>\n    //           (item.name_eng + item.name_thai + item.price)\n    //             .toLowerCase()\n    //             .includes(v)\n    //         );\n    //     });\n    //   } else {\n    //     return this.Allitem;\n    //   }\n    // },\n  },\n};\n</script>\n"]}]}