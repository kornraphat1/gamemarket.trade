{"remainingRequest":"C:\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\game-market\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\game-market\\src\\views\\Login.vue","mtime":1635250353059},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRva2VuOiAiIiwNCg0KICAgICAgcGFzc3dvcmRGaWVsZFR5cGU6ICJwYXNzd29yZCIsDQogICAgICB1c2VybmFtZTogIjA2NDIyNzc3MjQiLA0KICAgICAgcGFzc3dvcmQ6ICJLazA4MDAzMzU3ODgrIiwNCiAgICB9Ow0KICB9LA0KDQogIG1vdW50ZWQoKSB7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvb3Rlci1jb250ZW5lciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5hdmJhciIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGdvTG9naW4oKSB7DQogICAgICBjb25zdCBzZWxmID0gdGhpczsNCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkICYmIHRoaXMudXNlcm5hbWUpIHsNCiAgICAgICAgbGV0IGJvZHkgPSB7DQogICAgICAgICAgcGhvbmU6IHRoaXMudXNlcm5hbWUsDQogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsDQogICAgICAgIH07DQogICAgICAgIGxldCBjb25maWcgPSB7DQogICAgICAgICAgaGVhZGVyczoge30sDQogICAgICAgIH07DQoNCiAgICAgICAgdGhpcy5heGlvcw0KICAgICAgICAgIC5wb3N0KHRoaXMuJEFQSV9VUkwgKyAiL2FwaS92MS91c2VyL2xvZ2luL21lbWJlciIsIGJvZHksIGNvbmZpZykNCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT0gMCkgew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7DQogICAgICAgICAgICAgIGxldCBEID0gbmV3IERhdGUoKTsNCiAgICAgICAgICAgICAgRC5zZXRIb3VycyhELmdldEhvdXJzKCkgKyAxKTsNCg0KICAgICAgICAgICAgICAvLyBkb2N1bWVudC5jb29raWUgPSAidG9rZW49IiArIHJlc3BvbnNlLmRhdGEudG9rZW4gKyAiOyIgKyBEOw0KICAgICAgICAgICAgICB0aGlzLiRjb29raWVzLnNldCgidG9rZW5fbWFpbiIsIHJlc3BvbnNlLmRhdGEudG9rZW4sIDYwICogNjApOw0KDQogICAgICAgICAgICAgIHRoaXMudG9rZW4gPSB0aGlzLiRjb29raWVzLmdldCgidG9rZW5fbWFpbiIpOw0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygidG9rZW5fbWFpbiA6ICIgKyB0aGlzLnRva2VuKTsNCg0KICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmVydGlmeS1sb2dpbiIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2ZXJ0aWZ5LXN1Y2Nlc3MiKS5zdHlsZS5kaXNwbGF5ID0gbnVsbDsNCiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBzZWxmLmdvSG9tZSgpOw0KICAgICAgICAgICAgICB9LCAxMDAwKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuJGFsZXJ0KHJlc3BvbnNlLmRhdGEubXNnLnRoLCAi4LmA4LiB4Li04LiU4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiUIiwgImVycm9yIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7DQogICAgICAgICAgICB0aGlzLiRhbGVydChlcnJvci5yZXNwb25zZS5kYXRhLm1zZy50aCwgIuC5gOC4geC4tOC4lOC4guC5ieC4reC4nOC4tOC4lOC4nuC4peC4suC4lCIsICJlcnJvciIpOw0KICAgICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBnb0hvbWUoKSB7DQogICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9vdGVyLWNvbnRlbmVyIikuc3R5bGUuZGlzcGxheSA9IG51bGw7DQogICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmF2YmFyIikuc3R5bGUuZGlzcGxheSA9IG51bGw7DQogICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAvLyAgIG5hbWU6ICJIb21lIiwNCiAgICAgIC8vIH0pOw0KICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiLyI7DQogICAgfSwNCg0KICAgIHN3aXRjaFZpc2liaWxpdHkoKSB7DQogICAgICB0aGlzLnBhc3N3b3JkRmllbGRUeXBlID0NCiAgICAgICAgdGhpcy5wYXNzd29yZEZpZWxkVHlwZSA9PT0gInBhc3N3b3JkIiA/ICJ0ZXh0IiA6ICJwYXNzd29yZCI7DQogICAgfSwNCiAgfSwNCiAgd2F0Y2g6IHt9LA0KICBjb21wdXRlZDoge30sDQp9Ow0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"bg-vertify\">\r\n      <div class=\"bg-b-vertify\"></div>\r\n    </div>\r\n\r\n    <div class=\"vertify-main-content\">\r\n      <div class=\"logo-vertify\">\r\n        <img src=\"/img/logo-vertify.png\" alt=\"\" />\r\n      </div>\r\n      <div class=\"main-vertify-bg\" style=\"  height:80vh\">\r\n        <div class=\"main-vertify\">\r\n          <div class=\"vertify-content\" id=\"vertify-login\" style=\"display:\">\r\n            <div class=\"vertify-login\">\r\n              <h4>Login</h4>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\" เบอร์โทรศัพท์\"\r\n                v-model=\"username\"\r\n              />\r\n              <vuePassword\r\n                :type=\"passwordFieldType\"\r\n                placeholder=\"รหัสผ่าน\"\r\n                :disableStrength=\"true\"\r\n                v-model=\"password\"\r\n              />\r\n              <router-link\r\n                class=\"Forgetpassword\"\r\n                :to=\"{\r\n                  path: '/Forgetpassword',\r\n                }\"\r\n                ><p>ลืมรหัสผ่าน</p></router-link\r\n              >\r\n              <button class=\"conf\" v-on:click=\"goLogin()\">\r\n              เข้าสู่ระบบ</button>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"vertify-content\"\r\n            id=\"vertify-success\"\r\n            style=\"display:none\"\r\n          >\r\n            <div class=\"vertify-success\">\r\n              <img src=\"/img/success.png\" alt=\"\" />\r\n              <h4>เข้าสู่ระบบเรียบร้อย</h4>\r\n              <span>เริ่มซื้อขายไอเท็มได้เลย !</span>\r\n              <button v-on:click=\"goHome()\">แลกเปลี่ยนไอเท็ม</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      token: \"\",\r\n\r\n      passwordFieldType: \"password\",\r\n      username: \"0642277724\",\r\n      password: \"Kk0800335788+\",\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    document.getElementById(\"footer-contener\").style.display = \"none\";\r\n    document.getElementById(\"navbar\").style.display = \"none\";\r\n  },\r\n\r\n  methods: {\r\n    goLogin() {\r\n      const self = this;\r\n      if (this.password && this.username) {\r\n        let body = {\r\n          phone: this.username,\r\n          password: this.password,\r\n        };\r\n        let config = {\r\n          headers: {},\r\n        };\r\n\r\n        this.axios\r\n          .post(this.$API_URL + \"/api/v1/user/login/member\", body, config)\r\n          .then((response) => {\r\n            if (response.data.code == 0) {\r\n              console.log(response);\r\n              let D = new Date();\r\n              D.setHours(D.getHours() + 1);\r\n\r\n              // document.cookie = \"token=\" + response.data.token + \";\" + D;\r\n              this.$cookies.set(\"token_main\", response.data.token, 60 * 60);\r\n\r\n              this.token = this.$cookies.get(\"token_main\");\r\n              console.log(\"token_main : \" + this.token);\r\n\r\n              document.getElementById(\"vertify-login\").style.display = \"none\";\r\n              document.getElementById(\"vertify-success\").style.display = null;\r\n              setTimeout(function() {\r\n                self.goHome();\r\n              }, 1000);\r\n            } else {\r\n              this.$alert(response.data.msg.th, \"เกิดข้อผิดพลาด\", \"error\");\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.errorMessage = error.message;\r\n            console.log(error.response);\r\n            this.$alert(error.response.data.msg.th, \"เกิดข้อผิดพลาด\", \"error\");\r\n          });\r\n      }\r\n    },\r\n\r\n    goHome() {\r\n      // document.getElementById(\"footer-contener\").style.display = null;\r\n      // document.getElementById(\"navbar\").style.display = null;\r\n      // this.$router.push({\r\n      //   name: \"Home\",\r\n      // });\r\n      window.location.href = \"/\";\r\n    },\r\n\r\n    switchVisibility() {\r\n      this.passwordFieldType =\r\n        this.passwordFieldType === \"password\" ? \"text\" : \"password\";\r\n    },\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n};\r\n</script>\r\n"]}]}