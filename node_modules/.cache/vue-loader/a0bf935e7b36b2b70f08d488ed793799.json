{"remainingRequest":"C:\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\game-market\\src\\views\\Myitems.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\game-market\\src\\views\\Myitems.vue","mtime":1634281317707},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\game-market\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIEFsbGl0ZW06IFtdLA0KICAgICAgc2VhcmNoUXVlcnk6ICIiLA0KICAgICAgZ2FtZV9pZDogIiIsDQogICAgICBsaXN0Z2FtZTogIiIsDQogICAgICBzb3J0R2FtZTogIiIsDQogICAgfTsNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuY2hlY2tUb2tlbigpOw0KICAgIHRoaXMuZ2V0RGF0YSgpOw0KICAgIHRoaXMuZ2V0bGlzdGdhbWUoKTsNCg0KICAgIGNvbnNvbGUubG9nKCJteWl0ZW1zLy90b2tlbiA6ICIgKyB0aGlzLiRjb29raWVzLmdldCgidG9rZW5fbWFpbiIpKTsNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgZ2V0bGlzdGdhbWUoKSB7DQogICAgICB0aGlzLmF4aW9zDQogICAgICAgIC5nZXQodGhpcy4kQVBJX1VSTCArICIvYXBpL3YxL2Zyb250ZW5kL2dldGxpc3RteWdhbWUiLCB7DQogICAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuJGNvb2tpZXMuZ2V0KCJ0b2tlbl9tYWluIil9YCwNCiAgICAgICAgICB9LA0KICAgICAgICB9KQ0KICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmRhdGEpOw0KICAgICAgICAgIHRoaXMubGlzdGdhbWUgPSByZXNwb25zZS5kYXRhLmRhdGE7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgZ2V0RGF0YSgpIHsNCiAgICAgIHZhciBib2R5ID0gbmV3IE9iamVjdCgpOw0KDQogICAgICBpZiAodGhpcy5zb3J0R2FtZSA9PSAiIikgew0KICAgICAgICBib2R5ID0gew0KICAgICAgICAgIGZpbHRlcjogew0KICAgICAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaFF1ZXJ5LA0KICAgICAgICAgIH0sDQogICAgICAgICAgcGVycGFnZTogMTAsDQogICAgICAgICAgcGFnZTogMSwNCiAgICAgICAgICBwYWdpbmF0aW9uX29uOiBmYWxzZSwNCiAgICAgICAgICBzb3J0X2J5OiAiYXNjIiwNCiAgICAgICAgfTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGJvZHkgPSB7DQogICAgICAgICAgZmlsdGVyOiB7DQogICAgICAgICAgICBnYW1lX2lkOiAodGhpcy5zb3J0R2FtZT8gdGhpcy5zb3J0R2FtZSA6dGhpcy5nYW1lX2lkKSwNCiAgICAgICAgICAgIHNlYXJjaDogdGhpcy5zZWFyY2hRdWVyeSwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHBlcnBhZ2U6IDEwLA0KICAgICAgICAgIHBhZ2U6IDEsDQogICAgICAgICAgcGFnaW5hdGlvbl9vbjogZmFsc2UsDQogICAgICAgICAgc29ydF9ieTogImFzYyIsDQogICAgICAgIH07DQogICAgICB9DQogICAgICBsZXQgY29uZmlnID0gew0KICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLiRjb29raWVzLmdldCgidG9rZW5fbWFpbiIpfWAgfSwNCiAgICAgIH07DQogICAgICB0aGlzLmF4aW9zDQoNCiAgICAgICAgLnBvc3QodGhpcy4kQVBJX1VSTCArICIvYXBpL3YxL2Zyb250ZW5kL2xpc3RteWl0ZW0iLCBib2R5LCBjb25maWcpDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YS5saXN0KTsNCiAgICAgICAgICB0aGlzLkFsbGl0ZW0gPSByZXNwb25zZS5kYXRhLmRhdGEubGlzdDsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZSk7DQogICAgICAgICAgYWxlcnQoZXJyb3IpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHNvcnR2YWx1ZShpLCBkKSB7DQogICAgICBjb25zb2xlLmxvZyhpKTsNCiAgICAgIHRoaXMuc29ydEJ5ID0gaTsNCiAgICAgIHRoaXMuc29ydERpcmVjdGlvbiA9IGQ7DQogICAgfSwNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBJdGVtZ2FtZXMoKSB7DQogICAgICBpZiAodGhpcy5zZWFyY2hRdWVyeSkgew0KICAgICAgICByZXR1cm4gdGhpcy5BbGxpdGVtLmZpbHRlcigoaXRlbSkgPT4gew0KICAgICAgICAgIHJldHVybiB0aGlzLnNlYXJjaFF1ZXJ5DQogICAgICAgICAgICAudG9Mb3dlckNhc2UoKQ0KICAgICAgICAgICAgLnNwbGl0KCIgIikNCiAgICAgICAgICAgIC5ldmVyeSgodikgPT4NCiAgICAgICAgICAgICAgKGl0ZW0ubmFtZV9lbmcgKyBpdGVtLm5hbWVfdGhhaSArIGl0ZW0ucHJpY2UpDQogICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCkNCiAgICAgICAgICAgICAgICAuaW5jbHVkZXModikNCiAgICAgICAgICAgICk7DQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuQWxsaXRlbTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICB3YXRjaDogew0KICAgIHNvcnRHYW1lKCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy5zb3J0R2FtZSk7DQogICAgICBjb25zdCBzZWxmID0gdGhpczsNCiAgICAgIGlmICh0aGlzLnNvcnRHYW1lICE9ICIiKSB7DQogICAgICAgIHRoaXMuZ2V0RGF0YSgpOw0KICAgICAgICByZXR1cm4gdGhpcy5BbGxpdGVtOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5nZXREYXRhKCk7DQogICAgICAgIHNlbGYuc29ydEdhbWUgPSAiIjsNCiAgICAgICAgcmV0dXJuIHRoaXMuQWxsaXRlbTsNCiAgICAgIH0NCiAgICB9LA0KICAgICBzZWFyY2hRdWVyeSgpIHsNCiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOw0KDQogICAgICBpZiAodGhpcy5zZWFyY2hRdWVyeSkgew0KICAgICAgICB0aGlzLmdldERhdGEoKTsNCiAgICAgICAgcmV0dXJuIHRoaXMuQWxsaXRlbTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZ2V0RGF0YSgpOw0KICAgICAgICBzZWxmLnNlYXJjaFF1ZXJ5ID0gIiI7DQogICAgICAgIHJldHVybiB0aGlzLkFsbGl0ZW07DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Myitems.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Myitems.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"bg-tradeDetail\">\r\n      <div class=\"content-marketplaceDetail  \">\r\n        <div class=\"row\">\r\n          <img src=\"/img/banner-myitem.png\" alt=\"\" style=\"width: 100%;\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"bg-third\" id=\"section-third\">\r\n      <div class=\"container-content\">\r\n        <div class=\"marketplace-Search-area row\">\r\n          <div class=\"col-6 col-sm-6 col-md-9 \">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"\" id=\"basic-addon1\"\r\n                ><i class=\"fas fa-search\"></i\r\n              ></span>\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"searchQuery\"\r\n                placeholder=\"Search Product\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"col-6 col-sm-6 col-md-3\">\r\n            <select\r\n              class=\"dropdown input-group-prepend marketplace-fillter myitems-fillter-title  dropdown-toggle\"\r\n              aria-label=\"Default select example\"\r\n              v-model=\"sortGame\"\r\n            >\r\n              <option class=\"dropdown-item\" selected value=\"\">All Game</option>\r\n              <option\r\n                \r\n                v-for=\"(v, key) in listgame\"\r\n                :key=\"key\"\r\n                class=\"dropdown-item\"\r\n                :value=\"v.id\"\r\n                >{{ v.game_name.en }}</option\r\n              >\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"content-third-area row\">\r\n          <div class=\"content-third-item row\" id=\"itemGoodPrice\" v-if=\"Allitem != null\">\r\n            <div class=\"item-grid col-3\" v-for=\"(v, key) in Allitem\" :key=\"key\">\r\n              <router-link\r\n                class=\"static\"\r\n                :to=\"{\r\n                  path: '/trade/' + v.game_id + '/' + v.item_id,\r\n                }\"\r\n              >\r\n                <img :src=\"$IMG_URL_ITEM + v.picture\" class=\"item-img\" />\r\n                <div class=\"item-detail\">\r\n                  <h2 :style=\"v.color_code | color_sty\">\r\n                    {{ v.name.en }}\r\n                  </h2>\r\n                  <h1>{{ v.name.th }}</h1>\r\n                </div>\r\n                <div class=\"row item-detail-price\">\r\n                  <p>{{ v.amount | number_format }}.-</p>\r\n                  <button class=\"btn\">Trade</button>\r\n                </div>\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n          <div v-else>\r\n            <div style=\"color: #fff;\" class=\"text-center\">\r\n                <h1>คุณไม่มีไอเท็ม ของเกมส์นี้</h1>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      Allitem: [],\r\n      searchQuery: \"\",\r\n      game_id: \"\",\r\n      listgame: \"\",\r\n      sortGame: \"\",\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.checkToken();\r\n    this.getData();\r\n    this.getlistgame();\r\n\r\n    console.log(\"myitems//token : \" + this.$cookies.get(\"token_main\"));\r\n  },\r\n\r\n  methods: {\r\n    getlistgame() {\r\n      this.axios\r\n        .get(this.$API_URL + \"/api/v1/frontend/getlistmygame\", {\r\n          headers: {\r\n            Authorization: `Bearer ${this.$cookies.get(\"token_main\")}`,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          console.log(response.data.data);\r\n          this.listgame = response.data.data;\r\n        });\r\n    },\r\n    getData() {\r\n      var body = new Object();\r\n\r\n      if (this.sortGame == \"\") {\r\n        body = {\r\n          filter: {\r\n            search: this.searchQuery,\r\n          },\r\n          perpage: 10,\r\n          page: 1,\r\n          pagination_on: false,\r\n          sort_by: \"asc\",\r\n        };\r\n      } else {\r\n        body = {\r\n          filter: {\r\n            game_id: (this.sortGame? this.sortGame :this.game_id),\r\n            search: this.searchQuery,\r\n          },\r\n          perpage: 10,\r\n          page: 1,\r\n          pagination_on: false,\r\n          sort_by: \"asc\",\r\n        };\r\n      }\r\n      let config = {\r\n        headers: { Authorization: `Bearer ${this.$cookies.get(\"token_main\")}` },\r\n      };\r\n      this.axios\r\n\r\n        .post(this.$API_URL + \"/api/v1/frontend/listmyitem\", body, config)\r\n        .then((response) => {\r\n          console.log(response.data.data.list);\r\n          this.Allitem = response.data.data.list;\r\n        })\r\n        .catch((error) => {\r\n          this.errorMessage = error.message;\r\n          console.log(error.response);\r\n          alert(error);\r\n        });\r\n    },\r\n    sortvalue(i, d) {\r\n      console.log(i);\r\n      this.sortBy = i;\r\n      this.sortDirection = d;\r\n    },\r\n  },\r\n  computed: {\r\n    Itemgames() {\r\n      if (this.searchQuery) {\r\n        return this.Allitem.filter((item) => {\r\n          return this.searchQuery\r\n            .toLowerCase()\r\n            .split(\" \")\r\n            .every((v) =>\r\n              (item.name_eng + item.name_thai + item.price)\r\n                .toLowerCase()\r\n                .includes(v)\r\n            );\r\n        });\r\n      } else {\r\n        return this.Allitem;\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    sortGame() {\r\n      console.log(this.sortGame);\r\n      const self = this;\r\n      if (this.sortGame != \"\") {\r\n        this.getData();\r\n        return this.Allitem;\r\n      } else {\r\n        this.getData();\r\n        self.sortGame = \"\";\r\n        return this.Allitem;\r\n      }\r\n    },\r\n     searchQuery() {\r\n      const self = this;\r\n\r\n      if (this.searchQuery) {\r\n        this.getData();\r\n        return this.Allitem;\r\n      } else {\r\n        this.getData();\r\n        self.searchQuery = \"\";\r\n        return this.Allitem;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}